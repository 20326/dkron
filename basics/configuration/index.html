<!DOCTYPE html>
<html>
  <head>
    <title>Dkron - Distributed job scheduling system</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.38.2" />
<title>Configuration :: Dkron - Distributed job scheduling system</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>
<link rel="stylesheet" href="/css/custom.css">


    
  </head>
  <body data-url="/basics/configuration/">
    
      <header>
  <div class="logo">
    
	
  
    <div class="brand">
  <a class="logo" href="/"><img src="/img/dkron-badge-bw.png"/> Dkron</a>
</div>

  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/victorcoder/dkron"  rel="noopener">
                  <i class='fa fa-github'></i> Github repo
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/victorcoder/dkron/releases"  rel="noopener">
                  <i class='fa fa-cloud-download'></i> <label>Download</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/license"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>License</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/api/" class="dd-item
        ">
      <div>
      <a href="/api/">API</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/basics/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/basics/">Basics</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/basics/getting-started/" class="dd-item">
        <div>
          <a href="/basics/getting-started/">
            Getting started
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/basics/configuration/" class="dd-item active">
        <div>
          <a href="/basics/configuration/">
            Configuration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/usage/" class="dd-item haschildren
        ">
      <div>
      <a href="/usage/">Usage</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/usage/concurrency/" class="dd-item">
        <div>
          <a href="/usage/concurrency/">
            Concurrency
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/usage/cron-spec/" class="dd-item">
        <div>
          <a href="/usage/cron-spec/">
            Cron spec
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/usage/chaining/" class="dd-item">
        <div>
          <a href="/usage/chaining/">
            Job chaining
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/usage/retries/" class="dd-item">
        <div>
          <a href="/usage/retries/">
            Job retries
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/usage/metrics/" class="dd-item">
        <div>
          <a href="/usage/metrics/">
            Metrics
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
    <li data-nav-id="/usage/plugins/" class="dd-item haschildren
        ">
      <div>
      <a href="/usage/plugins/">Plugins</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/usage/plugins/processors/" class="dd-item">
        <div>
          <a href="/usage/plugins/processors/">
            Execution Processors
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/usage/plugins/executors/" class="dd-item">
        <div>
          <a href="/usage/plugins/executors/">
            Executors
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/usage/plugins/develop/" class="dd-item">
        <div>
          <a href="/usage/plugins/develop/">
            Developing plugins
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/usage/target-nodes-spec/" class="dd-item">
        <div>
          <a href="/usage/target-nodes-spec/">
            Target nodes spec
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/usage/ecs/" class="dd-item">
        <div>
          <a href="/usage/ecs/">
            Use with AWS ECS
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/pro/" class="dd-item haschildren
        ">
      <div>
      <a href="/pro/">Dkron Pro</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/pro/ecs/" class="dd-item">
        <div>
          <a href="/pro/ecs/">
            AWS ECS Executor
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/pro/auth/" class="dd-item">
        <div>
          <a href="/pro/auth/">
            Authorization
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/pro/clustering/" class="dd-item">
        <div>
          <a href="/pro/clustering/">
            Clustering
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/pro/commercial-faq/" class="dd-item">
        <div>
          <a href="/pro/commercial-faq/">
            Commercial FAQ
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/pro/docker/" class="dd-item">
        <div>
          <a href="/pro/docker/">
            Docker executor
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/pro/elasticsearch/" class="dd-item">
        <div>
          <a href="/pro/elasticsearch/">
            Elasticsearch processor
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/pro/email/" class="dd-item">
        <div>
          <a href="/pro/email/">
            Email processor
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/pro/storage/" class="dd-item">
        <div>
          <a href="/pro/storage/">
            Embedded storage
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/pro/encryption/" class="dd-item">
        <div>
          <a href="/pro/encryption/">
            Encryption
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/internal/" class="dd-item
        ">
      <div>
      <a href="/internal/">Internals</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/products/" class="dd-item haschildren
        ">
      <div>
      <a href="/products/">Products</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/products/pro/" class="dd-item">
        <div>
          <a href="/products/pro/">
            Dkron Pro
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>




    </ul>
    <section><center>

<a class="github-button" href="https://github.com/victorcoder/dkron" data-icon="octicon-star" data-show-count="true" aria-label="Star victorcoder/dkron on GitHub">Star</a>


<a class="github-button" href="https://github.com/victorcoder/dkron/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork victorcoder/dkron on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/api/" >
   API</option>
    <option value="/basics/" >
   Basics</option> 
      <option value="/basics/getting-started/" >- Getting started</option>
      <option value="/basics/configuration/"  selected>- Configuration</option>
  
    <option value="/usage/" >
   Usage</option>
    <option value="/pro/" >
   Dkron Pro</option>
    <option value="/internal/" >
   Internals</option>
    <option value="/products/" >
   Products</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>Configuration</h1>
    
    
    
    

<p>Settings for dkron can be specified in three ways: Using a <code>config/dkron.json</code> config file, using env variables starting with <code>DKRON_</code> or using command line arguments.</p>

<h2 id="command-line-options">Command line options</h2>

<ul>
<li><p><code>--node-name</code> - Name of the node, must be unique in the cluster. By default this is the hostname of the machine.</p></li>

<li><p><code>--bind-addr</code> - The address that dkron will bind to for communication with other dkron nodes. By default this is &ldquo;0.0.0.0:8946&rdquo;. dkron nodes may have different ports. If a join is specified without a port, we default to locally configured port. dkron uses both TCP and UDP and use the same port for both, so if you have any firewalls be sure to allow both protocols. If this configuration value is changed and no port is specified, the default of &ldquo;8946&rdquo; will be used.</p></li>

<li><p><code>--join</code> - Address of another agent to join upon starting up. This can be specified multiple times to specify multiple agents to join. If Dkron is unable to join with any of the specified addresses, agent startup will fail. By default, the agent won&rsquo;t join any nodes when it starts up.</p></li>

<li><p><code>--advertise-addr</code> - The advertise flag is used to change the address that we advertise to other nodes in the cluster. By default, the bind address is advertised. However, in some cases (specifically NAT traversal), there may be a routable address that cannot be bound to. This flag enables gossiping a different address to support this. If this address is not routable, the node will be in a constant flapping state, as other nodes will treat the non-routability as a failure.</p></li>

<li><p><code>--http-addr</code> - The address where the web UI will be binded. By default <code>:8080</code></p></li>

<li><p><code>--backend</code> - Backend storage to use, etcd, etcdv3, consul, zk (zookeeper) or redis. The default is etcd.</p></li>

<li><p><code>--backend-machine</code> - Backend storage servers addresses to connect to. This flag can be specified multiple times. By default <code>127.0.0.1:2379</code></p></li>

<li><p><code>--tag</code> - The tag flag is used to associate a new key/value pair with the agent. The tags are gossiped and can be used to provide additional information such as roles, ports, and configuration values to other nodes. Multiple tags can be specified per agent. There is a byte size limit for the maximum number of tags, but in practice dozens of tags may be used. Tags can be changed during a config reload.</p></li>

<li><p><code>--server</code> - If this agent is a dkron server, just need to be present. Absent by default.</p></li>

<li><p><code>--keyspace</code> - Keyspace to use for the store. Allows to run different instances using the same storage cluster. <code>dkron</code> by default.</p></li>

<li><p><code>--encrypt</code> - Key for encrypting network traffic. Must be a base64-encoded 16-byte key.</p></li>

<li><p><code>--mail-host</code> - Mail server host address to use for notifications.</p></li>

<li><p><code>--mail-port</code> - Mail server port.</p></li>

<li><p><code>--mail-username</code> - Mail server username used for authentication.</p></li>

<li><p><code>--mail-password</code> - Mail server password to use.</p></li>

<li><p><code>--mail-from</code> - From email address to use.</p></li>

<li><p><code>--webhook-url</code> - Webhook url to call for notifications.</p></li>

<li><p><code>--webhook-payload</code> - Body of the POST request to send on webhook call.</p></li>

<li><p><code>--webhook-header</code> - Headers to use when calling the webhook URL. Can be specified multiple times.</p></li>

<li><p><code>--log-level</code> - Set the log level (debug, info, warn, error, fatal, panic). Defaults to &ldquo;info&rdquo;</p></li>

<li><p><code>--rpc-port</code> - The port that Dkron will use to bind for the agent&rsquo;s RPC server, defaults to <code>6868</code>. The RPC address will be the bind address.</p></li>
</ul>

<h1 id="config-file-example">Config file example</h1>

<pre><code class="language-yaml"># Dkron example configuration file
# backend: etcd
# backend-machine: 127.0.0.1:2379
# server: false
# log-level: debug
# tags:
#   role: web
#   datacenter: east
# keyspace: dkron
# encrypt: a-valid-key-generated-with-dkron-keygen
# join:
#   - 10.0.0.1
#   - 10.0.0.2
#   - 10.0.0.3
# webhook-url: https://hooks.slack.com/services/XXXXXX/XXXXXXX/XXXXXXXXXXXXXXXXXXXX
# webhook-payload: &quot;payload={\&quot;text\&quot;: \&quot;{{.Report}}\&quot;, \&quot;channel\&quot;: \&quot;#foo\&quot;}&quot;
# webhook-headers: Content-Type:application/x-www-form-urlencoded
# mail-host: email-smtp.eu-west-1.amazonaws.com
# mail-port: 25
# mail-username&quot;: mailuser
# mail-password&quot;: mailpassword
# mail-from&quot;: cron@example.com
# mail-subject_prefix: [Dkron]
</code></pre>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/basics/getting-started/" title="Getting started"> <i class="fa fa-chevron-left"></i><label>Getting started</label></a>
    <a class="nav nav-next" href="/usage/" title="Usage" style="margin-right: 0px;"><label>Usage</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

    <div class="github-link">
      <a href="https://github.com/victorcoder/dkron/edit/master/website/content/basics/configuration.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
  </div>


	<div>


  
    <p><a href="http://www.distrib.works/">Distributed Works</a> © 2015 Victor Castell - victor@distrib.works</p>

  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>